/**
 * html2pdf.js v0.9.3
 * Copyright (c) 2021 Erik Koopmans
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).html2pdf=e()}(this,function(){"use strict";var t=function(){function t(e,n,r){var i=this;void 0===e&&(e={}),Object.defineProperty(this,"prop",{value:{},enumerable:!0,configurable:!0}),Object.defineProperty(this,"opt",{value:{},enumerable:!0,configurable:!0}),Object.defineProperty(this,"pdf",{value:null,enumerable:!0,configurable:!0}),n instanceof Promise?n.then(function(t){return i.pdf=t}):this.pdf=n,this.set(e),void 0!==r&&this.set(r)}return t.prototype.set=function(t,e){if("object"==typeof t)return Object.assign(this.opt,t),this;if(void 0!==e)return this.opt[t]=e,this;throw new Error("Invalid set() usage")},t.prototype.get=function(t,e){return void 0===t?JSON.parse(JSON.stringify(this.opt)):t in this.opt?this.opt[t]:e},t.prototype.setMargin=function(t){return this.set({margin:t}),this},t}();var e=function(t){return function(e){return new Promise(function(n,r){var i=Object.assign(t.opt,e||{});if(i.jsPDF&&"object"==typeof i.jsPDF&&(i.jsPDF=Object.assign({},i.jsPDF)),t.pdf=i.filename?new jspdf.jsPDF(i.jsPDF):t.pdf,!t.pdf)return r(new Error('"pdf" is required.'));var o=t.pdf,a=t.prop.container,s=t.prop.pageSize,c=void 0===i.filename,l=i.html2canvas?Object.assign({},i.html2canvas):i.html2canvas,u=i.jsPDF?Object.assign({},i.jsPDF):i.jsPDF,h=t.pdf.internal.getNumberOfPages(),d=h,p=void 0!==a.height?a.height:a.clientHeight,f=void 0!==a.width?a.width:a.clientWidth,g=1;if(1===i.scale)g=s.inner.width/f;else if(2===i.scale)g=s.inner.width/f*s.inner.height/p;else{if(3!==i.scale){if(i.scale<=0)throw new Error("Invalid scale");g=i.scale}(g*=i.dpi/96)||r(new Error('"scale" is required.'))}var m=o.internal.pageSize.getWidth(),v=o.internal.pageSize.getHeight(),y=i.margin[0]/72*i.jsPDF.internal.scaleFactor,b=i.margin[1]/72*i.jsPDF.internal.scaleFactor,w=i.margin[2]/72*i.jsPDF.internal.scaleFactor,S=i.margin[3]/72*i.jsPDF.internal.scaleFactor,P=m-y-S,x=v-b-w,O=function(){for(var t=d;t<o.internal.getNumberOfPages();t++)o.deletePage(t+1)};o.deletePage(d);var j,E=a.style.transform,q=1;if(l&&l.scale?q=Number(l.scale):j&&j.style&&j.style.transform&&j.style.transform.scale?q=Number(j.style.transform.scale):g&&(q=g),E||g){if("function"==typeof E){var D=a.getBoundingClientRect();a.style.transform=E(D.width,D.height)}else void 0!==g&&(a.style.transform="scale("+g.toString()+")");var F=a.getBoundingClientRect();a.style.transformOrigin="0 0",j={element:a,style:{transform:a.style.transform,transformOrigin:a.style.transformOrigin}},a.style.transformOrigin="0 0",a.style.transform="scale("+q.toString()+")"}if(l&&i.html2canvas.letterRendering||(l.letterRendering=!0),html2canvas)return html2canvas(a,l).then(function(t){var e=t.width*q,r=t.height*q,s=e/P,l=Math.floor(r/x);if(0===r||0===e)throw new Error("Unexpected canvas dimensions: "+r.toString()+"x"+e.toString());if(g){var d=!1,p=function(t){d?o.addPage(u):(o.addPage(u),d=!0,c&&o.deletePage(1)),u.orientation&&"landscape"===u.orientation.toLowerCase()&&(t=t.rotated);var e=t.width/o.internal.scaleFactor,n=t.height/o.internal.scaleFactor;n>o.internal.pageSize.getHeight()-b-w&&(t=t.divided);var r=t.top/o.internal.scaleFactor,i=t.left/o.internal.scaleFactor,a=t.width/o.internal.scaleFactor,s=t.height/o.internal.scaleFactor;o.addImage(t.canvas,"JPEG",S+i,y+r,a,s,"","FAST")},f=Math.ceil(s),g=Math.ceil(l);if(f>1||g>1){var m,v,N,T,C,k,A,I=0,M=0,_=0,z=Math.min(f,g),L=[];for(f>g?(N=s/g,T=1,C=l/g,k=s-C*f,A=T+k):(N=1,T=l/f,C=s/f,k=l-N*g,A=C+k),I=0;I<f;I++)for(M=0;M<g;M++)_=I*g+M,_<f*g&&(_===f*g-1?L.push({left:I*P*C,top:M*x*N,width:P*A,height:x*(M===g-1?T+k:T),canvas:t}):L.push({left:I*P*C,top:M*x*N,width:P*(I===f-1?A:C),height:x*(M===g-1?T+k:T),canvas:t}));if(L=function(t){if("splitted"!==i.split)return t;var e=[];if(1===t.length)return t;for(var n=0;n<t.length;n++){var r=t[n],o=r.left/P,a=r.top/x,s=Math.floor(o),c=Math.floor(a);s===o&&c===a||(r.divided=!0),e.push(r)}return e}(L),i.html2canvas&&i.html2canvas.onrendered){console.warn("onrendered option is deprecated, please use callback instead");try{i.html2canvas.onrendered(t)}catch(t){}}for(I=0;I<L.length;I++)p(L[I]);return E&&(a.style.transform=E),j&&(a.style.transform=j.style.transform,a.style.transformOrigin=j.style.transformOrigin),void n(o)}u.orientation&&"landscape"===u.orientation.toLowerCase()&&(t=t.rotated),E&&(a.style.transform=E),j&&(a.style.transform=j.style.transform,a.style.transformOrigin=j.style.transformOrigin);for(var B=1;B<=l;B++){var U=B===l?r-x*(l-1):x,R=(B-1)*x;o.addPage(u);var W=document.createElement("canvas"),X=W.getContext("2d");W.width=e,W.height=U;var Y=R*o.internal.scaleFactor,G=Y+U*o.internal.scaleFactor;X.fillStyle="white",X.fillRect(0,0,W.width,W.height),X.drawImage(t,0,Y,e,G-Y,0,0,e,G-Y),c&&1===B&&o.deletePage(1),i.html2canvas&&i.html2canvas.onrendered&&(console.warn("onrendered option is deprecated, please use callback instead"),i.html2canvas.onrendered(W)),o.addImage(W,"png",S,y,P,U,"","FAST")}return h<d&&O(),n(o)}}).catch(r);throw new Error("Could not load html2canvas")})}}(t);var n=function(t){return function(e){return new Promise(function(n,r){var i=Object.assign(t.opt,e||{});if(i.jsPDF&&"object"==typeof i.jsPDF&&(i.jsPDF=Object.assign({},i.jsPDF)),t.pdf=i.filename?new jspdf.jsPDF(i.jsPDF):t.pdf,!t.pdf)return r(new Error('"pdf" is required.'));var o=document.createElement("iframe");if(!i.worker){if("srcdoc"in o)o.style.display="none",o.style.visibility="hidden",o.srcdoc=i.content,document.body.appendChild(o);else{r(new Error("IFrame is not supported in this browser."))}o.onload=function(){var e=Function.prototype.bind.call(t.pdf.__proto__.fromHTML,t.pdf);e(o.contentDocument.body,{filename:i.filename,x:i.x,y:i.y},function(){t.pdf.save(i.filename),document.body.removeChild(o),n(t.pdf)})}}else{try{var a="data:text/html;charset=UTF-8,"+encodeURIComponent(i.content),s=new Worker(i.worker);s.onmessage=function(t){if("pdf"===t.data.type){var e=new Uint8Array(t.data.data);if(i.outputPdf){var o=new Blob([e],{type:"application/pdf"});n(o)}else{var a=new jspdf.jsPDF(i.jsPDF);a.addPage(),a.addImage({imageData:e,x:i.x,y:i.y}),a.save(i.filename),n(a)}}},s.postMessage({htmlContent:a,pdfOptions:{margin:{top:i.margin[0],right:i.margin[1],bottom:i.margin[2],left:i.margin[3]},filename:i.filename,jsPDF:i.jsPDF,x:i.x,y:i.y}})}catch(t){r(t)}}})}}(t);var r=function(t){return function(e,n){return new Promise(function(r,i){var o={filename:"",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{orientation:"p",unit:"mm",format:"a4",compress:!0}};if("object"==typeof e&&(n=e,e=void 0),n=Object.assign({},o,n||{}),e&&(n.content=e,"string"==typeof n.content&&!n.worker?n.content=document.querySelector(n.content):n.content instanceof Element||(n.content=document.body)),!n.worker&&!n.content)return i(new Error("Invalid content option"));if(n.jsPDF.orientation&&(n.jsPDF.orientation=n.jsPDF.orientation.substr(0,1).toLowerCase()),n.jsPDF.unit&&(n.jsPDF.unit=n.jsPDF.unit.toLowerCase()),n.jsPDF.format&&("string"==typeof n.jsPDF.format&&(n.jsPDF.format=n.jsPDF.format.toLowerCase()),Array.isArray(n.jsPDF.format))){for(var a=0;a<n.jsPDF.format.length;a++)n.jsPDF.format[a]=parseFloat(n.jsPDF.format[a]);var s=n.jsPDF.format;n.jsPDF.format=1===n.jsPDF.orientation.indexOf("p")||1===n.jsPDF.orientation.indexOf("portrait")?[s[0],s[1]]:[s[1],s[0]]}if("object"==typeof n.margin&&(n.margin=Object.values(n.margin),"number"==typeof n.margin[0]&&(n.margin=[n.margin[0],n.margin[0],n.margin[0],n.margin[0]]),"string"==typeof n.margin[0]&&(n.margin=n.margin.map(function(t){return parseFloat(t.replace(/\D/g,""))})),"number"==typeof n.margin)){var c=n.margin;n.margin=[c,c,c,c]}n.jsPDF=n.jsPDF||{},n.html2canvas=n.html2canvas||{},n.filename=n.filename||"file.pdf";var l=new jspdf.jsPDF(n.jsPDF),u={pdf:l};if(!n.content){if(!n.worker)return i(new Error("A worker is required when content is not provided."));var h=l.internal.getNumberOfPages(),d=l.internal.pageSize.getWidth(),p=l.internal.pageSize.getHeight(),f={width:d,height:p,scale:1,orientation:n.jsPDF.orientation};return Object.assign(u.prop,{container:{},pageSize:f}),Object.assign(u.opt,n),t.pdf=l,n(u).then(function(t){return r(t)}).catch(i)}return function(){if(window&&window.html2canvas)return Promise.resolve(window.html2canvas);var t=document.createElement("script");return t.src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js",document.body.appendChild(t),new Promise(function(e,n){t.onload=function(){e(window.html2canvas)}})}().then(function(){var t="string"==typeof n.content?document.querySelector(n.content):n.content;return t instanceof Element?function(){var e=t.clientWidth,r=t.clientHeight,i=l.internal.pageSize.getWidth(),o=l.internal.pageSize.getHeight(),a={width:i,height:o},s={width:e,height:r,scale:1},c=l.internal.getNumberOfPages();if(t instanceof HTMLElement){var u=window.getComputedStyle(t);e=parseInt(u.getPropertyValue("width"),10)||e,r=parseInt(u.getPropertyValue("height"),10)||r}return l.setFontSize(16),l.setFillColor(255,255,255),l.setDrawColor(255,255,255),l.setTextColor(0,0,0),Object.assign(u.prop,{container:t,pageSize:a,containerCSS:s}),Object.assign(u.opt,n),t}():i(new Error("Invalid content option"))}),function(){var e=l.internal.getNumberOfPages(),r=l.internal.pageSize.getWidth(),o=l.internal.pageSize.getHeight(),a={width:r,height:o,scale:1,orientation:n.jsPDF.orientation};return t.pdf=l,Object.assign(u.prop,{container:n.content,pageSize:a}),Object.assign(u.opt,n),e(u).then(function(t){return r(t)}).catch(i)}})}}(t);return{Worker:t,toPdf:r,toImg:e,toCanvas:function(t){return window.html2canvas(t).then(function(t){return t})},toContainer:function(t){return new Promise(function(e,n){try{if("string"==typeof t){var r=document.querySelector(t);if(!r)throw new Error("Element not found: "+t);e(r)}else t instanceof HTMLElement?e(t):n(new Error("Invalid source type"))}catch(t){n(t)}})},init:function(e,n,i){if(e={margin:[0,0,0,0],filename:"file.pdf",image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}},"object"==typeof e&&(n=e,e=void 0),"object"==typeof n&&(i=n,n=void 0),i=Object.assign({},e,i||{}),"string"==typeof n&&(n=document.querySelector(n)),!n)throw new Error("Invalid source");var o=new t(i,null,function(t){return r(t)});return o.from(n).toPdf()}}});
